<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>forma Reference Manual</title>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>forma</h1>

<ul>
  <li><a href="../contents.html">Index</a></li>
</ul>



<h2>Readme</h2>
<ul class="nowrap">
  <li><strong>README</strong></li>
</ul>
<h2>Modules</h2>
<ul class="nowrap">
  <li><a href="../modules/forma.cell.html">forma.cell</a></li>
  <li><a href="../modules/forma.pattern.html">forma.pattern</a></li>
  <li><a href="../modules/forma.primitives.html">forma.primitives</a></li>
  <li><a href="../modules/forma.subpattern.html">forma.subpattern</a></li>
  <li><a href="../modules/forma.automata.html">forma.automata</a></li>
  <li><a href="../modules/forma.neighbourhood.html">forma.neighbourhood</a></li>
</ul>
<h2>Examples</h2>
<ul class="nowrap">
  <li><a href="../examples/binary_space_partition.lua.html">binary_space_partition.lua</a></li>
  <li><a href="../examples/carpet.lua.html">carpet.lua</a></li>
  <li><a href="../examples/caves.lua.html">caves.lua</a></li>
  <li><a href="../examples/corridors.lua.html">corridors.lua</a></li>
  <li><a href="../examples/game_of_life.lua.html">game_of_life.lua</a></li>
  <li><a href="../examples/game_of_life_async.lua.html">game_of_life_async.lua</a></li>
  <li><a href="../examples/lloyds_algorithm.lua.html">lloyds_algorithm.lua</a></li>
  <li><a href="../examples/maxrectangle.lua.html">maxrectangle.lua</a></li>
  <li><a href="../examples/platformer.lua.html">platformer.lua</a></li>
  <li><a href="../examples/primitives.lua.html">primitives.lua</a></li>
  <li><a href="../examples/shapes.lua.html">shapes.lua</a></li>
  <li><a href="../examples/voronoi.lua.html">voronoi.lua</a></li>
  <li><a href="../examples/worley.lua.html">worley.lua</a></li>
</ul>

</div>

<div id="content">


<p><a href="https://travis-ci.org/nhartland/forma"><img src="https://travis-ci.org/nhartland/forma.svg?branch=master" alt="Build Status"/></a>
<a href="https://opensource.org/licenses/MIT"><img src="https://img.shields.io/badge/license-MIT-blue.svg" alt="License"/></a></p>

<h1>forma</h1>

<p><strong>2D grid shape generation in Lua</strong> </p>


<p align="center">
  <img width="650" height="320" src="https://i.imgur.com/si0FhKN.png">
</p>


<p>This package is intended for the generation and manipulation of shapes on a two
dimensional grid or lattice. It came about as part of experiments in making
roguelike games. <strong>forma</strong> is therefore particularly suited for the generation
of roguelike environments.</p>

<p>Shapes can be generated in several ways. From simple rasters of primitive shapes
like circles, lines and squares, to pattern generation by a <a href="https://en.wikipedia.org/wiki/Cellular_automaton">Cellular
Automata</a> (CA) implementation,
including both synchronous and asynchronous update rules. Using the CA methods,
patterns such as the classic 4-5 rule 'cave' systems can be generated:</p>


<p align="center">
  <img width="650" height="320" src="https://i.imgur.com/r6D7hxb.png">
</p>


<p>However the real power of the CA implementation is in its flexibility.
Different CA rules with custom cellular <em>neighbourhoods</em> (including
<a href="https://en.wikipedia.org/wiki/Moore_neighborhood">Moore</a>, <a href="https://en.wikipedia.org/wiki/Von_Neumann_neighborhood">von
Neumann</a> and more) may
be combined. Patterns can also be recursively generated by nesting the result of
one pattern in another. Interesting structures can therefore be formed by
combining different CA rule sets with different neighbourhoods and domains. For
example a 'corridor' structure:</p>


<p align="center">
  <img width="650" height="320" src="https://i.imgur.com/PF7cMw7.png">
</p>


<p>In addition to pattern generation tools, <strong>forma</strong> implements several useful
methods for the manipulation of patterns. Basic operations such as pattern
addition or subtraction, enlargement and reflection are included. On top of
these, more involved methods such as flood-filling, Voronoi tessellation, hull
finding or Binary Space Partitioning are also available. Once again most of
these operations can be performed under custom definitions of the cellular
neighbourhood.</p>

<p>Custom pattern operations can be easily implemented making use of a masking
procedure, as shown in an example demonstrating thresholded <a href="https://en.wikipedia.org/wiki/Worley_noise">Worley
noise</a>:</p>


<p align="center">
  <img width="650" height="320" src="https://i.imgur.com/Gyn4QLx.png">
</p>


<p>All of the above examples can be generated by code in the <code>examples</code> folder.</p>

<h2>Warning</h2>
<p>The master branch is in active development. API breaking changes may
occasionally occur.</p>

<h2>Requirements</h2>
<p>Compatible with Lua 5.1, 5.2, 5.3 and LuaJIT 2.0, 2.1.</p>

<p>The test suite requires
 - <a href="https://keplerproject.github.io/luacov/">LuaCov</a>
 - <a href="https://github.com/bluebird75/luaunit">luaunit</a></p>

<p>Generating the documentation requires
 - <a href="https://github.com/stevedonovan/LDoc">LDoc</a></p>

<h2>Running examples</h2>

<p>The examples require that the <code>forma/</code> directory is in the lua path. The easiest
way to try the examples is to run them from the root directory of this repo. For
example</p>


<pre>
lua examples/game_of_life.lua
</pre>

<h2>Generating documentation</h2>

<p>Documentation is hosted <a href="https://nhartland.github.io/forma/">here</a>.</p>

<p>Simply running </p>


<pre>
ldoc <span class="comment">--output contents --dir docs .</span>
</pre>

<p>in the root directory should generate all the required pages.</p>

<h2>Testing</h2>

<p>Unit tests are provided for some methods with the luaunit framework, coverage is
tested using LuaCov. To run the tests use</p>


<pre>
./run_tests.sh
</pre>



</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.4.6</a></i>
<i style="float:right;">Last updated 2018-07-08 14:23:43 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
