<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>forma Reference Manual</title>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>forma</h1>

<ul>
  <li><a href="../contents.html">Index</a></li>
</ul>



<h2>Readme</h2>
<ul class="nowrap">
  <li><strong>README</strong></li>
</ul>
<h2>Modules</h2>
<ul class="nowrap">
  <li><a href="../modules/forma.cell.html">forma.cell</a></li>
  <li><a href="../modules/forma.pattern.html">forma.pattern</a></li>
  <li><a href="../modules/forma.primitives.html">forma.primitives</a></li>
  <li><a href="../modules/forma.subpattern.html">forma.subpattern</a></li>
  <li><a href="../modules/forma.automata.html">forma.automata</a></li>
  <li><a href="../modules/forma.neighbourhood.html">forma.neighbourhood</a></li>
</ul>
<h2>Examples</h2>
<ul class="nowrap">
  <li><a href="../examples/async_automata.lua.html">async_automata.lua</a></li>
  <li><a href="../examples/binary_space_partition.lua.html">binary_space_partition.lua</a></li>
  <li><a href="../examples/bubbles.lua.html">bubbles.lua</a></li>
  <li><a href="../examples/cellular_automata.lua.html">cellular_automata.lua</a></li>
  <li><a href="../examples/corridors.lua.html">corridors.lua</a></li>
  <li><a href="../examples/isolines.lua.html">isolines.lua</a></li>
  <li><a href="../examples/maxrectangle.lua.html">maxrectangle.lua</a></li>
  <li><a href="../examples/platformer.lua.html">platformer.lua</a></li>
  <li><a href="../examples/sampling.lua.html">sampling.lua</a></li>
  <li><a href="../examples/voronoi.lua.html">voronoi.lua</a></li>
</ul>

</div>

<div id="content">


<p><a href="https://travis-ci.org/nhartland/forma"><img src="https://travis-ci.org/nhartland/forma.svg?branch=master" alt="Build Status"/></a>
<a href="https://coveralls.io/github/nhartland/forma?branch=master"><img src="https://coveralls.io/repos/github/nhartland/forma/badge.svg?branch=master" alt="Coverage Status"/></a>
<a href="https://opensource.org/licenses/MIT"><img src="https://img.shields.io/badge/license-MIT-blue.svg" alt="License"/></a></p>

<h1>forma</h1>

<p><strong>2D grid shape generation in Lua</strong> </p>


<p align="center">
  <img width="650" height="320" src="https://i.imgur.com/si0FhKN.png">
</p>


<p><strong>forma</strong> is a utility library for the procedural generation and manipulation of
shapes on a two dimensional grid or lattice. It came about as part of
experiments in making roguelike games. <strong>forma</strong> is therefore particularly
suited for (but not limited to) the generation of roguelike environments.</p>

<p>Shapes can be generated in several ways. From simple rasters of primitive shapes
like circles, lines and squares, to pattern generation by a <a href="https://en.wikipedia.org/wiki/Cellular_automaton">Cellular
Automata</a> (CA) implementation,
including both synchronous and asynchronous update rules. Using the CA methods,
patterns such as the classic 4-5 rule 'cave' systems can be generated:</p>


<p align="center">
  <img width="650" height="320" src="https://i.imgur.com/r6D7hxb.png">
</p>


<p>However the real power of the CA implementation is in its flexibility.
Different CA rules with custom cellular <em>neighbourhoods</em> (including
<a href="https://en.wikipedia.org/wiki/Moore_neighborhood">Moore</a>, <a href="https://en.wikipedia.org/wiki/Von_Neumann_neighborhood">von
Neumann</a> and more) may
be combined. Patterns can also be recursively generated by nesting the result of
one pattern in another. Interesting structures can therefore be formed by
combining different CA rule sets with different neighbourhoods and domains. For
example a 'corridor' structure:</p>


<p align="center">
  <img width="650" height="320" src="https://i.imgur.com/PF7cMw7.png">
</p>


<p>In addition to pattern generation tools, <strong>forma</strong> implements several useful
methods for the manipulation of patterns. Basic operations such as pattern
addition or subtraction, enlargement and reflection are included. On top of
these, more involved methods such as flood-filling, Voronoi tessellation, hull
finding or Binary Space Partitioning are also available. Once again most of
these operations can be performed under custom definitions of the cellular
neighbourhood.</p>

<p>Custom pattern operations can be easily implemented making use of a masking
procedure, as shown in an example demonstrating thresholded <a href="https://en.wikipedia.org/wiki/Worley_noise">Worley
noise</a>:</p>


<p align="center">
  <img width="650" height="320" src="https://i.imgur.com/Gyn4QLx.png">
</p>


<p>All of the above examples can be generated by code in the <code>examples</code> folder.</p>

<h2>Installation</h2>

<p><strong>forma</strong> is compatible with Lua 5.1, 5.2, 5.3 and LuaJIT 2.0, 2.1. The library
is written in pure Lua, no compilation is required. Including the project is
then as simple as including the <code>forma</code> directory in your Lua path.</p>

<p>The easiest way to do this is via LuaRocks:</p>


<pre>
    luarocks install forma
</pre>


<h2>Running examples</h2>

<p>The examples require that the <code>forma/</code> directory is in the lua path. The easiest
way to try the examples is to run them from the root directory of this repo. For
example</p>


<pre>
lua examples/game_of_life.lua
</pre>

<h2>Generating documentation</h2>

<p>Documentation is hosted <a href="https://nhartland.github.io/forma/">here</a>.</p>

<p>Generating the documentation requires
 - <a href="https://github.com/stevedonovan/LDoc">LDoc</a></p>

<p>Simply running </p>


<pre>
ldoc <span class="comment">--output contents --dir docs .</span>
</pre>

<p>in the root directory should generate all the required pages.</p>

<h2>Testing</h2>

<p>Unit tests and coverage reports are provided. The test suite requires
 - <a href="https://keplerproject.github.io/luacov/">LuaCov</a>
 - <a href="https://github.com/bluebird75/luaunit">luaunit</a></p>

<p>To run the tests use</p>


<pre>
./run_tests.sh
</pre>



</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.4.6</a></i>
<i style="float:right;">Last updated 2018-07-14 13:54:03 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
